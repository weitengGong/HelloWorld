<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript"></script>            
    <meta charset = "utf-8">
</head>
<body bgcolor = "#C7EDCC">
    <h1 align = "center">跳  马</h1>
    <h3 align = "center">10150412 贡威腾</h3>
    <td>行数:</td>
    <td><input type = "number" min ="1" max ="100" id = "boardX" ></td>
    <td>列数:</td>
    <td><input type = "number" min ="1" max ="100" id = "boardY" value = "列数"></td>
    <br></br>
    <td>初始位置X:</td>
    <td><input type = "number" min ="1" max ="100" id = "X" ></td>
    <td>初始位置Y:</td>
    <td><input type = "number" min ="1" max ="100" id = "Y" ></td>
    <tr>
        <input type = "button" id = "cal" onclick = "calculate()" value = "计算结果">
    </tr>
    <table border = "1" width = 500px height = 500px align = "center" bgcolor = "white"></table>
    <td id = "result"></td>>
    <script type = "text/javascript">
var direction = new Array; //跳马方向
direction = [[1,2],[2,1],[-1,2],[-2,1],[-1,-2],[-2,-1],[2,-1],[1,-2]];
var step = 1; //步数
var count = 0;  //路线总数
var Road = new Array; //具体路线
var XY = new Array();
var dxy = new Array;

var initialX;
var initialY;
var x;
var y;

function JumpWay(x,y,m)
{
    //递归跳马
    var Trace = new array;    
    if (x == initialX && y == initialY && t != 1)
    {
        if (JudgeWay())
        {
            var tempTrace = new Array();
            count++;
            for (var i = 1; i < stepNum; i++) {
                var tempx = direction[i][0];
                var tempy = direction[i][1];
                tempTrace[i] = new Array();
                tempTrace[i][0] = tempx;
                tempTrace[i][1] = tempy;
            }
            //加上最后一个点
            tempTrace[stepNum] = new Array();
            tempTrace[stepNum][0] = initX;
            tempTrace[stepNum][1] = initY;
            Road.push(tempTrace);
        }
    }
}
function FindWay()
{
    JumpWay(initialX,initialY,step);
    return Road;
}

function JudgeWay(x,y,n)
{
    //判断位置是否可跳
    if ((x + dxy[i][0]) < m && (x + dxy[i][0]) >= 0 && y + dxy[i][1] < n && y + dxy[i][1] >= 0) {
        //下一步未走过或者抵达起点
        var tempx = 0;
        var tempy = 0;
        tempx = x + dxy[i][0];
        tempy = y + dxy[i][1];
        if (cb[tempx][tempy] == 0 || (x + dxy[i][0] == initX && y + dxy[i][1] == initY)) {
            return true;
        }
        return false;
    }
    return false;
}

function Result() 
{
    //输出结果
    count = 0;
    x = parseInt(document.getElementById("boardM").value);
    y = parseInt(document.getElementById("boardN").value);
    initialX = parseInt(document.getElementById("X").value);
    initialY = parseInt(document.getElementById("Y").value);

    var finalRoad = new Array;
    var i;var j;
    //将棋盘上的值都赋为0
    for (i=0;i<x;i++)
    {
        XY[i] = new Array;
        for (j=0;j<y;j++)
        {
            XY[i][j] == 0;
        }
    }
    finalway = FindWay()
    document.getElementById("result").innerHTML = "一共有" + count + "种跳马方式" + "<br>";
    for (var i = 0; i < count; i++) 
    {
        for (var j = 1; j < finalWay[i].length; j++) 
        {
            if (j == finalWay[i].length - 1) 
            {
                document.getElementById("result").innerHTML += finalWay[i][j]+"<br>";
            } else {
                document.getElementById("result").innerHTML += finalWay[i][j] + "->";
            }
        }
    }
}

    </Script>
</body>
</html>